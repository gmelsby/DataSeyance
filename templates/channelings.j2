<h1>Data Seyance</h1>

[ <a href="index">Home</a>
| <a href="seances">Seances</a> | <a href="locations">Locations</a>  | <a href="channelings">Channelings</a>
| <a href="spirits">Spirits</a> | <a href="attendees">Attendees</a> | <a href="mediums">Mediums</a>
| <a href="methods">Methods</a> | <a href="seanceattendees">Seance Attendee Lists</a>
]

<div>
&nbsp;
</div>

<form>
<label for="seance-select">Choose a seance to view channelings for:</label>
<select name="id" id="seance-select">
    <option value="">Show me channelings from all seances</option>
    {% for seance in seance_data %}
    <option value={{seance['seance_id']}}
    {% if chosen_seance['seance_id']==seance['seance_id'] %} selected {% endif %}>
    {{seance['date']}} at {{seance['name']}} | seance_id: {{seance['seance_id']}}</option>
    {% endfor %}
</select>
<input class="btn" type="submit" id="filter" value="Filter">
</form>

<div>&nbsp;</div>

<table border="5" cellpadding="10">
  <caption>
  Channelings from 
  {% if chosen_seance==None %}All Seances
  {% else %}{{chosen_seance['date']}} at {{chosen_seance['name']}} | seance_id: {{chosen_seance['seance_id']}}{% endif %}
  </caption>
  <thead>
  <tr>
    <th>channeling_id</th>
    <th>Medium Name</th>
    <th>Spirit Name</th>
    <th>Method</th>
    <th>Date</th>
    <th>Location</th>
    <th>is_successful</th>
    <th>length_in_minutes</th>
    <th>Delete</th>
  </tr>
  </thead>
  <tbody>
  {% for channeling in channeling_data %}
  <tr>
    <td>{{channeling['channeling_id']}}</td>
    <td>{{channeling['medium_name']}}</td>
    <td>{{channeling['spirit_name']}}</td>
    <td>{{channeling['method_name']}}</td>
    <td>{{channeling['date']}}</td>
    <td>{{channeling['location_name']}}</td>
    <td>{{channeling['is_successful']}}</td>
    <td>{{channeling['length_in_minutes']}}</td>
    <td><a href="/delete_channeling/{{channeling['channeling_id']}}">Delete</a></td>
  </tr>
  {% endfor %}
  </tbody>
</table>



<div id="insert" style="display: block">
  <form id="InsertChanneling">
      <legend><strong>Insert Channeling</strong></legend>
      <fieldset class="fields">
        <label for="seance_id">Seance</label>
        <select name="seance_id">
          <option value=""> </option>
          {% for seance in seance_data %}
          <option value={{seance['seance_id']}}
          {% if seance['seance_id']==chosen_seance['seance_id'] %} selected {% endif %}>
          {{seance['date']}} at {{seance['name']}} | seance_id: {{seance['seance_id']}}</option>
          {% endfor %}
        </select>
        <br>
        <label for="medium_id"> Medium Full Name: </label>
        <select name="medium_id">
          <option value=""> </option>
          {% for medium in medium_data %}
          <option value={{medium['medium_id']}}>
          {{medium['full_name']}} | medium_id: {{medium['medium_id']}}</option>
          {% endfor %}
        </select>
        <br>
        <label for="spirit_id"> Spirit Full Name: </label>
        <select name="spirit_id">
          <option value=""> </option>
          {% for spirit in spirit_data %}
          <option value={{spirit[spirit_id]}}>
          {{spirit['full_name']}} | spirit_id: {{spirit['spirit_id']}}</option>
          {% endfor %}
        </select>
        <br>
        <label for="method_id">Method Used: </label>
        <select name="method_id">
          <option value=""></option>
          {% for method in method_data %}
          <option value={{method['method_id']}}>
          {{method['name']}} | method_id: {{method['method_id']}}</option>
          {% endfor %}
        </select>
        <br>
        <label> Channeling Was Successful: </label><input  type="checkbox"  name="success">
        <br>
      <label> Channeling Length (in minutes): </label> <input  type="number" min="0" name="length">
      </fieldset>
    <input class="btn" type="submit" id="InsertChanneling" value="Insert Channeling">
  </form>
</div>